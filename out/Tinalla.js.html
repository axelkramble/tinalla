<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Tinalla.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Tinalla.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const cons = document.querySelector("#console");

/**
 * Tinalla main mother object.
 * @typedef Tinalla
 * @property {Proxy} Tinalla.loops - contains a reference of each loop created.
 * @property {Proxy} Tinalla.rules - contains a reference of each regex rule created.
 * 
 */
const Tinalla = {
	loops : new Proxy({},{
		get: function(obj, prop){
			return obj[prop]
		},
		set: function(obj, prop, value){
			obj[prop] = value;
		}
	}),
	rules : new Proxy({}, {

		get: function(obj, prop){
			return obj[prop]
		},
		set: function(obj, prop, value){
			console.log("adsfasdf", prop, value)
			obj[prop] = value;
		}
	})
}

const TextEditor = CodeMirror(document.querySelector("#texteditor"), {
	theme:"midnight", 
	lineNumbers: true,
	lineWrapping: true,
	styleActiveLine: true,
	styleActiveSelected: true,
	scrollbarStyle:null,
	mode:'textfile',
	extraKeys: {
		"Shift-Ctrl-Enter":function(){
			try{
				for(i in Tinalla.rules){
					Tinalla.rules[i]();
				}

			}catch(error){
				cons.textContent = error;
			}
		},
		"Ctrl-Enter":function(f){
			let opts = {}

			if(TextEditor.getSelection() == ""){
				opts.start = {line: TextEditor.getCursor().line, ch:0 }
				opts.end = {line: TextEditor.getCursor().line+1}

			}else{
				opts.start = TextEditor.listSelections()[0].head
				opts.end = TextEditor.listSelections()[0].anchor
			}
			
			try{
				for(i in Tinalla.rules){
					Tinalla.rules[i](opts);
				}
			}catch(error){
				cons.textContent = error;
			}
		},
		"Tab":function(){
			ParseEditor.focus();
			ParseEditor.setCursor(0,0)
		}
	}
});

TextEditor.on('change', function(...args){

	for(rule in Tinalla.rules){
		if(Tinalla.rules[rule].onchange){
			Tinalla.rules[rule]();
		}
	}
})

const ParseEditor = CodeMirror(document.querySelector("#parseeditor"), {
	theme:"midnight", 
	lineNumbers: true,
	lineWrapping: true,
	lineWrapping : true,
	styleActiveLine: true,
	styleActiveSelected: true,
	scrollbarStyle:null,
	mode:'javascript',
	extraKeys: {
		"Shift-Ctrl-Enter":function(){
			const text = ParseEditor.getValue();
			//autosave()
			try{
				let evaluated = eval(text);
				cons.textContent = `${text} → ${typeof evaluated}`;
			}catch(error){
				cons.textContent = error;
			}
		},
		"Ctrl-Enter":function(f){
			const text = ParseEditor.getLine(ParseEditor.getCursor().line);
			//autosave()
			try{
				let evaluated = eval(text);
				cons.textContent = `${text} → ${typeof evaluated}`;
			}catch(error){
				cons.textContent = error;
			}	
		},
		"Tab":function(f){
			TextEditor.focus();
			TextEditor.setCursor(0,0)
		}
	}
});



</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AddRule">AddRule</a></li><li><a href="global.html#Loop">Loop</a></li><li><a href="global.html#LoopArray#Loop">Loop
Array#Loop</a></li><li><a href="global.html#Parse">Parse</a></li><li><a href="global.html#ParseRegExp#Parse">Parse
RegExp#Parse</a></li><li><a href="global.html#ParseString#Parse">Parse
String#Parse</a></li><li><a href="global.html#Range">Range</a></li><li><a href="global.html#RemoveRule">RemoveRule</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Aug 27 2019 22:38:16 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
